<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JDFTx: commands/command.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="jdftx-55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">JDFTx
   &#160;<span id="projectnumber">1.7.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('command_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">command.h File Reference<div class="ingroups"><a class="el" href="group__Core.html">Core functionality</a> &raquo; <a class="el" href="group__Input.html">Input-file parser and commands</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides the base class and various helpers for defining commands in the input file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="ParamList_8h.html">commands/ParamList.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h.html">core/string.h</a>&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;set&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommand.html">Command</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract base class for all commands.  <a href="classCommand.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDeprecatedCommand.html">DeprecatedCommand</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class for a deprecated command which will translate old syntax into the new command that replaces it.  <a href="classDeprecatedCommand.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLinkDescription.html">LinkDescription&lt; Enum &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a description functor for <a class="el" href="group__Input.html#gaa4321937f2c1cd461e24ca1270f5eadf" title="Process the EnumStringMap::optionList() to add descriptions using an arbitrary functor.">addDescriptions()</a> from an <a class="el" href="classEnumStringMap.html" title="A template to ease option parsing (maps enums &lt;--&gt; strings)">EnumStringMap</a>.  <a href="structLinkDescription.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8c5d4b6fb35d1b1cd79a806d01d9e394"><td class="memItemLeft" align="right" valign="top">
std::map&lt; <a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a>, <a class="el" href="classCommand.html">Command</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Input.html#ga8c5d4b6fb35d1b1cd79a806d01d9e394">getCommandMap</a> ()</td></tr>
<tr class="memdesc:ga8c5d4b6fb35d1b1cd79a806d01d9e394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the map from command names to objects created during static initialization. <br /></td></tr>
<tr class="separator:ga8c5d4b6fb35d1b1cd79a806d01d9e394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc4f3ae8956e90d818b39b7c461e070d"><td class="memItemLeft" align="right" valign="top">
std::map&lt; <a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a>, <a class="el" href="classDeprecatedCommand.html">DeprecatedCommand</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Input.html#gafc4f3ae8956e90d818b39b7c461e070d">getDeprecatedMap</a> ()</td></tr>
<tr class="memdesc:gafc4f3ae8956e90d818b39b7c461e070d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the map from deprecated command names to objects. <br /></td></tr>
<tr class="separator:gafc4f3ae8956e90d818b39b7c461e070d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4321937f2c1cd461e24ca1270f5eadf"><td class="memTemplParams" colspan="2">template&lt;typename GetDescription &gt; </td></tr>
<tr class="memitem:gaa4321937f2c1cd461e24ca1270f5eadf"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Input.html#gaa4321937f2c1cd461e24ca1270f5eadf">addDescriptions</a> (<a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a> optionList, const GetDescription &amp;getDescription, <a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a> spacer=&quot;\n+ &quot;)</td></tr>
<tr class="memdesc:gaa4321937f2c1cd461e24ca1270f5eadf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the EnumStringMap::optionList() to add descriptions using an arbitrary functor.  <a href="group__Input.html#gaa4321937f2c1cd461e24ca1270f5eadf">More...</a><br /></td></tr>
<tr class="separator:gaa4321937f2c1cd461e24ca1270f5eadf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace26a0720f45d47544f1ddd41b75484a"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Input.html#gace26a0720f45d47544f1ddd41b75484a">nullDescription</a> (const <a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a> &amp;)</td></tr>
<tr class="memdesc:gace26a0720f45d47544f1ddd41b75484a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Null description function that can be used with <a class="el" href="group__Input.html#gaa4321937f2c1cd461e24ca1270f5eadf" title="Process the EnumStringMap::optionList() to add descriptions using an arbitrary functor.">addDescriptions()</a>. This can be useful for simply reformatting EnumStringMap::optionList() <br  />
 <br /></td></tr>
<tr class="separator:gace26a0720f45d47544f1ddd41b75484a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7b9dce2303e2f00e6fc538d9eda3593"><td class="memTemplParams" colspan="2">template&lt;typename Enum &gt; </td></tr>
<tr class="memitem:gac7b9dce2303e2f00e6fc538d9eda3593"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structLinkDescription.html">LinkDescription</a>&lt; Enum &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Input.html#gac7b9dce2303e2f00e6fc538d9eda3593">linkDescription</a> (const <a class="el" href="classEnumStringMap.html">EnumStringMap</a>&lt; Enum &gt; &amp;nameMap, const <a class="el" href="classEnumStringMap.html">EnumStringMap</a>&lt; Enum &gt; &amp;descMap)</td></tr>
<tr class="memdesc:gac7b9dce2303e2f00e6fc538d9eda3593"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to select appropriate LinkDescription&lt;&gt; by overloading.  <a href="group__Input.html#gac7b9dce2303e2f00e6fc538d9eda3593">More...</a><br /></td></tr>
<tr class="separator:gac7b9dce2303e2f00e6fc538d9eda3593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26e06941014a4be693f58ac78e17c960"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; class <a class="el" href="classSpeciesInfo.html">SpeciesInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Input.html#ga26e06941014a4be693f58ac78e17c960">findSpecies</a> (<a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a> id, <a class="el" href="classEverything.html">Everything</a> &amp;e, bool addSpecies=false)</td></tr>
<tr class="memdesc:ga26e06941014a4be693f58ac78e17c960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find species matching an id (and create it from a wildcard if necessary)  <a href="group__Input.html#ga26e06941014a4be693f58ac78e17c960">More...</a><br /></td></tr>
<tr class="separator:ga26e06941014a4be693f58ac78e17c960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed7b942e05c1dcdaec2ac28ae567811e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Input.html#gaed7b942e05c1dcdaec2ac28ae567811e">isReadable</a> (<a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a> fname)</td></tr>
<tr class="memdesc:gaed7b942e05c1dcdaec2ac28ae567811e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if file is readable in an MPI friendly way. This function must be called from all processes, the file will be checked on one process and the result broadcast to all processes.  <a href="group__Input.html#gaed7b942e05c1dcdaec2ac28ae567811e">More...</a><br /></td></tr>
<tr class="separator:gaed7b942e05c1dcdaec2ac28ae567811e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabcb04f6205e7e8336645d99265d695fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Input.html#gabcb04f6205e7e8336645d99265d695fc">setAvailableFilename</a> (<a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a> filenamePattern, <a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a> varName, <a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a> &amp;target)</td></tr>
<tr class="separator:gabcb04f6205e7e8336645d99265d695fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62c8847466fd51a6cb88e036b431d1fa"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Input.html#ga62c8847466fd51a6cb88e036b431d1fa">setAvailableFilenames</a> (<a class="el" href="group__Utilities.html#ga8365eedfd1b02393873732bfaab5c018">string</a> filenamePattern, <a class="el" href="classEverything.html">Everything</a> &amp;e)</td></tr>
<tr class="memdesc:ga62c8847466fd51a6cb88e036b431d1fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply setAvailableFilename for all standard input variables (action of CommandInitialState) <br /></td></tr>
<tr class="separator:ga62c8847466fd51a6cb88e036b431d1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides the base class and various helpers for defining commands in the input file. </p>
<p>To create a new command, paste this code block into a cpp file, replace all occurences of dummy with something suitable, add the documentation strings (format and comment) and the parse code. See any of the existing commands for examples of using <a class="el" href="classParamList.html" title="Wrapper to std::istringstream that eases parsing of input file command lines.">ParamList</a> effectively. Note that there is no need to edit any global list of commands, this happens automatically during static initialization, just create an object of the new derived <a class="el" href="classCommand.html" title="Abstract base class for all commands.">Command</a> class at file scope. However, for coherent documentation, edit doc/commands.dox and link to the command in the appropriate section. </p><pre class="fragment">    struct CommandDummy : public Command
    {
            CommandDummy() : Command("dummy")
            {
                    format = "";
                    comments = "";
            }

            void process(ParamList&amp; pl, Everything&amp; e)
            {
            }

            void printStatus(Everything&amp; e, int iRep)
            {
            }
    }
    commandDummy;
</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <li class="navelem"><a class="el" href="dir_662e02c3142d0900dcadac3b539ab473.html">commands</a></li><li class="navelem"><a class="el" href="command_8h.html">command.h</a></li>
</div>
</body>
</html>
